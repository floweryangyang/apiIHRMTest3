

# Pycharm和Github交互式操作



## 前置条件

1，已经安装git

2，已经安装pycharm

3，已经注册了Github账号：http://www.github.com

4，已经在Pycharm中配置Git和Github账号，

配置方法见讲义《5-持续集成-w.pdf》中Git与Github知识点第2.2小结

![1575527932012](assets/1575527932012.png)



## 一，在Github中创建仓库

介绍：从Github中checkout项目到pycharm中后，pycharm会创建该项目的git仓库到本地。

**步骤：** 

1，在github中创建项目，点击Sign in后进入登陆界面

![1575528388157](assets/1575528388157.png)

2，点击sign in后，进入登陆页面，输入登陆的用户名和密码完成登陆

![1575528532615](assets/1575528532615.png)



3，进入主页

![1575528864384](assets/1575528864384.png)

4，点击右上角的 + 

![1575528885641](assets/1575528885641.png)

5，选择：New repository

![1575528901171](assets/1575528901171.png)

6, 效果，注意途中的红框，接下来在红框中依次输入仓库名称；选择公开/私有；初始化README文件

（为了统一，三个都做成一样的）

注意：仓库名称中不要有特殊字符

![1575528955407](assets/1575528955407.png)

7，输入仓库名称，勾选Public，Initlalize the repository with a README，点击Create repository

![1575529134174](assets/1575529134174.png)

8,效果：

![1575529190703](assets/1575529190703.png)

## 二，Checkout Github中的项目到本地

1，打开pycharm

![1575529403869](assets/1575529403869.png)

2，点击VCS，选择弹出菜单的Checkout from Version Control和Git，并点击Git

![1575529451707](assets/1575529451707.png)

3，点击Git后会弹出Clone Repository窗口，这里的URL需要输入github中创建的仓库的URL（第4步会讲解）

![1575529534379](assets/1575529534379.png)

4，重新打开github，找到新建的仓库Zues，点击Clone or download,选中https开头的URL进行复制

![1575529642389](assets/1575529642389.png)

5，回到pycharm，把复制的以https开头的URL复制进来，注意：一定是https开头

pycharm会根据github中实际仓库的名称增加目录，最后点击Clone等待一会儿就OK了

如下图所示：由于github中的仓库名称为Zues，所以pychar也增加名为Zues的目录

![1575529718341](assets/1575529718341.png)，

6，等待时的状态，注意右下角进度条

![1575529849355](assets/1575529849355.png)

7，弹出了一个窗口，提示是否创建目录：Zues。这里选择Yes

![1575529883354](assets/1575529883354.png)

8，又弹出一个窗口，这里选择New Window

![1575529924872](assets/1575529924872.png)

9，成功后的效果：注意左上角的项目文件夹Zues

![1575529964984](assets/1575529964984.png)

10，总结：总的来说，操作很简单，就是在github中创建仓库/项目；然后通过pycharm的VCS->Checkout from Version Control -> Git来下载指定的仓库/项目。

## 三，上传本地文件到Github中

注意：本文依赖第二步：Checkout Github中的项目到本地

1，在checkout下来的Zues项目中，新建一个文件，在弹出的两个窗口中，分别点击Add和Always Add

![1575530826813](assets/1575530826813.png)

2，点击之后，文件的颜色会变

![1575530878213](assets/1575530878213.png)

3，commit文件到本地仓库

对新建的文件点击邮件，选择Git，选择点击Commit File...

![1575530951579](assets/1575530951579.png)

4 弹出了Commit Changes 窗口

注意图中红框部分，勾选要提交的文件，填写备注，最后点击右下角的提交。

注意：备注必须填写，否则无法提交

![1575531122861](assets/1575531122861.png)

5，提交成功后，文件颜色恢复原来的黑色

![1575531197119](assets/1575531197119.png)

6，注意，此刻github中还没有尼采这个文件，这是因为本次提交只是提交到本地仓库

![1575531368288](assets/1575531368288.png)

7，Push本地仓库文件到远程的Github仓库

对项目Zues单击右键，选择Git->Repository->Push

![1575531453618](assets/1575531453618.png)

8，Push确认

![1575531534710](assets/1575531534710.png)

9，查看效果：

Push时，底部会有进度条

![1575531571784](assets/1575531571784.png)

Push成功后，右下角会有提示窗口：

![1575531589364](assets/1575531589364.png)

然后再刷新Github页面，查看结果：

如下图所示，可以看到尼采已经从本地仓库Push到远程的Github仓库了

![1575531623590](assets/1575531623590.png)

## 四，更新Github中的项目的文件到pycharm

本文依赖第二步：Checkout Github中的项目到本地

1，先在远程仓库Github中新建一个文件

![1575531873975](assets/1575531873975.png)

2，在新页面中，输入文件名称和文件内容



![1575533017900](assets/1575533017900.png)

3，点击提交

![1575533041365](assets/1575533041365.png)

4，Github中提交文件后的效果

![1575533080854](assets/1575533080854.png)

5，在pycharm中Pull

对项目点击右键->Git->Repository->点击Pull

![1575533132753](assets/1575533132753.png)

6，查看效果

![1575533229575](assets/1575533229575.png)

## 五，pycharm与远程仓库的冲突操作

1，说明

在第四步中，我们把Github中的柏拉图文件拉取到了本地，内容为：理想国，这个文件，我们人为记为V1版本

V1：柏拉图：理想国

2，现在，我们在Gitnub中对V1版本的文件进行增加内容操作，增加苏格拉底内容，并提交，形成V2版本

V2：柏拉图：理想国 苏格拉底

操作方式：

![1575533489241](assets/1575533489241.png)

点击图标：笔 进入编辑模式

![1575533520303](assets/1575533520303.png)

在理想国下面新增1条内容：苏格拉底，并提交

![1575533542143](assets/1575533542143.png)

![1575533580703](assets/1575533580703.png)

效果：

![1575533595017](assets/1575533595017.png)

小节：在柏拉图文件中，新增了苏格拉底，作为v2版本

3，在pycharm中操作之前下载的V1版本的“理想国”文件，形成V3版本（操作时间在Github之后，所以是V3）

打开pycharm定位到“柏拉图”文件

![1575533765968](assets/1575533765968.png)



新增一行数据：

```
窗前明月光，疑似地上霜
举头望明月，低头思故乡
```

效果：

![1575533816310](assets/1575533816310.png)

此时V3版本内容增加了李白的《思乡》诗文。



然后再提交代码到本地仓库

![1575533866837](assets/1575533866837.png)

commit提交，注意写备注

![1575533895876](assets/1575533895876.png)

结束：

![1575533921282](assets/1575533921282.png)

4，在pycharm中Push本地修改的V3版本到远程仓库GitHub

注意，此时v1版本的柏拉图文件中，只有“理想国”。v2版本中新增了“苏格拉底”。v3版本新增了“李白的诗文”，三个版本不一致，此时从pycharm中提交v3版本到github仓库时，由于提交的内容第二行存在冲突，会被拒绝



Push代码

![1575534059208](assets/1575534059208.png)

![1575534078163](assets/1575534078163.png)



点击Push后弹出了拒绝窗口：

![1575534106468](assets/1575534106468.png)

这里点击Merge，然后会弹出Conflicts窗口（冲突），这里选择Merge

![1575534141235](assets/1575534141235.png)



弹出Merge Revision 窗口

在窗口中，可以看到3个版本的代码，这里我们全部都用

![1575534189505](assets/1575534189505.png)

点击V3的>>和V2的<<

![1575534300800](assets/1575534300800.png)

效果：

![1575534335232](assets/1575534335232.png)



然后点击右下角的Apply应用

![1575534401052](assets/1575534401052.png)



二次拒绝的原因：

这里需要理解一个知识：

github会把所有的代码按照版本备份到每个用户当中，这样可以最大避免代码发生丢失的情况。

在我们本次冲突问题里面，我们pycharm的代码只有V3版本，而没有V2版本，如果提交成功后，那么我们本地pycharm就两个版本

V1：柏拉图：理想国

V3：柏拉图：理想国 床前明月光...

试想一下，如果真让咱们就这样提交成功了会发生什么问题：

如果真过了，那么万一我们的V3发现了问题，比如不是这个诗文不是柏拉图直接相关，那么要还原到V2版本时，会发现缺失了V2版本内容而无法还原。

所以，我们得先把V2版本内容拉取下来，然后再更新



拉取V2版本内容：

![1575534685593](assets/1575534685593.png)

什么都不该，然后Pull

![1575534697278](assets/1575534697278.png)

Pull后，右下角会有提示：

All files are up-to-date

![1575534726464](assets/1575534726464.png)



接着第二次Push，查看是否会成功

Push前，我们先检查Github中Zues仓库，柏拉图的内容



刷新页面，发现还是只有V1和V2两个版本

![1575534798225](assets/1575534798225.png)



然后再Push

![1575534860919](assets/1575534860919.png)

![1575534844588](assets/1575534844588.png)



查看这个提示窗口后，我们再刷新Github的Zues的柏拉图文件

![1575534913187](assets/1575534913187.png)

这样，就发现Push成功了

![1575534942937](assets/1575534942937.png)

## 六,pycharm中的项目分享到github中

第二步中，咱们把Github中的仓库代码checkout到了pycharm，接下来咱们学习怎么把本地代码分享到github中

1，新建项目

![1575535140026](assets/1575535140026.png)

2，在项目下新建一个py文件

![1575535166274](assets/1575535166274.png)

3，分享这个项目到Github

![1575535207225](assets/1575535207225.png)

点击Share

![1575535221860](assets/1575535221860.png)

点击Add

![1575535244255](assets/1575535244255.png)



底部有进度条

![1575535280264](assets/1575535280264.png)



右下角弹出Successfully后，就证明成功了

![1575535298153](assets/1575535298153.png)



在Github检查自己分享的untitled项目

![1575535338400](assets/1575535338400.png)

![1575535365300](assets/1575535365300.png)

![1575535386530](assets/1575535386530.png)

